# ๐ ุงูุชุนุฏููุงุช ุงููุทููุจุฉ - ุฏููู ุดุงูู

## ๐ฏ **ุงููุทููุจ:**

### 1. โ ุฅุถุงูุฉ ุนููุฏ "ุงููุฑุญูุฉ / ุงููุณู / ุงููุณุงุฑ"
- ุนุฑุถู ุจุฌุงูุจ ุงูุตู ูุงูุดุนุจุฉ ูู ุจุทุงูุฉ ุงูุทุงูุจ
- ูุซุงู: `10 | ุฃ | ุนููู`

### 2. โ ุฅุถุงูุฉ ููุชุฑ DDL ูููุฑุญูุฉ/ุงููุณู/ุงููุณุงุฑ
- ููุชุฑ ุฌุฏูุฏ ุจุฌุงูุจ ููุชุฑ ุงูุตู ูุงูุดุนุจุฉ

### 3. โ ุงูุณูุงุญ ูููุฏูุฑ ุจุชุนุฏูู ุงุณู ุงููุณุชุฎุฏู ุงูุฎุงุต ุจู
- ุฅุถุงูุฉ ุฒุฑ "ุชุนุฏูู ุงูููู ุงูุดุฎุตู" ูููุฏูุฑ
- ููููู ุชุบููุฑ ุงุณู ุงููุณุชุฎุฏู (ุจุฏู admin)
- ููููู ุชุบููุฑ ูููุฉ ุงููุฑูุฑ (ููุฌูุฏ ุจุงููุนู)

### 4. โ ุงูุชุฃูุฏ ูู ุฒุฑ ุงูุชุฑุงุฌุน ูุนูู
- ุฒุฑ "๐ข ุญุงุถุฑ (ุชุฑุงุฌุน)" ูุฌุจ ุฃู ูุญุฐู ุงูุบูุงุจ ููุฑุฌุน ุงูุทุงูุจ ุญุงุถุฑ

---

## ๐ง **ุงูุชุนุฏููุงุช ุงููุทููุจุฉ ูู ุงูููุฏ:**

### **ูู ููู HTML:**

#### 1. ุฅุถุงูุฉ ููุชุฑ ุงููุฑุญูุฉ/ุงููุณู/ุงููุณุงุฑ:

**ูู ูุณู ุงูููุงุชุฑ (ุญูุงูู ุงูุณุทุฑ 430)ุ ุฃุถู:**
```html
<div class="input-group" style="margin-bottom: 0;">
    <label>ุงููุฑุญูุฉ / ุงููุณู / ุงููุณุงุฑ</label>
    <select id="filterPathway" onchange="filterStudents()">
        <option value="">ุงููู</option>
    </select>
</div>
```

#### 2. ุชุญุฏูุซ ุฏุงูุฉ `loadStudents` (ุญูุงูู ุงูุณุทุฑ 746):

**ุงุณุชุจุฏู:**
```javascript
students = response.data.map(s => ({
    id: s['id'],
    name: s['ุงูุงุณู ุงููุงูู'] || s['ุงูุงุณู'] || 'ุจุฏูู ุงุณู',
    school: s['ุงููุฏุฑุณุฉ'] || '',
    grade: s['ุงูุตู'] || '',
    section: s['ุงูุดุนุจุฉ'] || '',
    details: s
}));
```

**ุจู:**
```javascript
students = response.data.map(s => ({
    id: s['id'],
    name: s['ุงูุงุณู ุงููุงูู'] || s['ุงูุงุณู'] || 'ุจุฏูู ุงุณู',
    school: s['ุงููุฏุฑุณุฉ'] || '',
    grade: s['ุงูุตู'] || '',
    section: s['ุงูุดุนุจุฉ'] || '',
    pathway: s['ุงููุฑุญูุฉ / ุงููุณู / ุงููุณุงุฑ'] || '',
    details: s
}));
```

#### 3. ุชุญุฏูุซ ุฏุงูุฉ `populateFilters` (ุญูุงูู ุงูุณุทุฑ 764):

**ุงุณุชุจุฏู:**
```javascript
function populateFilters() {
    const grades = [...new Set(students.map(s => s.grade).filter(Boolean))];
    const sections = [...new Set(students.map(s => s.section).filter(Boolean))];

    const gradeSelect = document.getElementById('filterGrade');
    const sectionSelect = document.getElementById('filterSection');

    gradeSelect.innerHTML = '<option value="">ุงููู</option>' + grades.map(g => `<option value="${g}">${g}</option>`).join('');
    sectionSelect.innerHTML = '<option value="">ุงููู</option>' + sections.map(s => `<option value="${s}">${s}</option>`).join('');
}
```

**ุจู:**
```javascript
function populateFilters() {
    const grades = [...new Set(students.map(s => s.grade).filter(Boolean))];
    const sections = [...new Set(students.map(s => s.section).filter(Boolean))];
    const pathways = [...new Set(students.map(s => s.pathway).filter(Boolean))];

    const gradeSelect = document.getElementById('filterGrade');
    const sectionSelect = document.getElementById('filterSection');
    const pathwaySelect = document.getElementById('filterPathway');

    gradeSelect.innerHTML = '<option value="">ุงููู</option>' + grades.map(g => `<option value="${g}">${g}</option>`).join('');
    sectionSelect.innerHTML = '<option value="">ุงููู</option>' + sections.map(s => `<option value="${s}">${s}</option>`).join('');
    pathwaySelect.innerHTML = '<option value="">ุงููู</option>' + pathways.map(p => `<option value="${p}">${p}</option>`).join('');
}
```

#### 4. ุชุญุฏูุซ ุฏุงูุฉ `renderTeacherStudentList` (ุญูุงูู ุงูุณุทุฑ 779):

**ูู ุงูููุชุฑุฉุ ุงุณุชุจุฏู:**
```javascript
const filteredStudents = students.filter(s => {
    return (!gradeFilter || s.grade === gradeFilter) &&
        (!sectionFilter || s.section === sectionFilter) &&
        (!searchName || s.name.toLowerCase().includes(searchName));
});
```

**ุจู:**
```javascript
const gradeFilter = document.getElementById('filterGrade').value;
const sectionFilter = document.getElementById('filterSection').value;
const pathwayFilter = document.getElementById('filterPathway').value;
const searchName = document.getElementById('searchName').value.toLowerCase();

const filteredStudents = students.filter(s => {
    return (!gradeFilter || s.grade === gradeFilter) &&
        (!sectionFilter || s.section === sectionFilter) &&
        (!pathwayFilter || s.pathway === pathwayFilter) &&
        (!searchName || s.name.toLowerCase().includes(searchName));
});
```

**ููู ุนุฑุถ ุงูุจุทุงูุฉุ ุงุณุชุจุฏู:**
```javascript
<div style="font-size: 13px; color: #718096; margin-bottom: 10px;">
    ${s.grade} | ${s.section}
</div>
```

**ุจู:**
```javascript
<div style="font-size: 13px; color: #718096; margin-bottom: 10px;">
    ${s.grade} | ${s.section}${s.pathway ? ' | ' + s.pathway : ''}
</div>
```

#### 5. ุฅุถุงูุฉ modal ุชุนุฏูู ุจูุงูุงุช ุงููุฏูุฑ:

**ุฃุถู ุจุนุฏ modal "Change Admin Password":**
```html
<!-- Edit Admin Profile Modal -->
<div id="editAdminProfileModal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; align-items: center; justify-content: center;">
    <div class="modal-content" style="background: white; border-radius: 20px; padding: 40px; max-width: 400px; width: 90%;">
        <h3>ุชุนุฏูู ุงูููู ุงูุดุฎุตู</h3>
        <div class="input-group">
            <label>ุงุณู ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ</label>
            <input type="text" id="newAdminUsernameInput">
        </div>
        <div style="display: flex; gap: 10px;">
            <button class="btn-primary" onclick="submitNewAdminUsername()">ุชุญุฏูุซ</button>
            <button onclick="document.getElementById('editAdminProfileModal').style.display='none'" style="padding: 16px; border: 1px solid #e2e8f0; background: white; border-radius: 12px; cursor: pointer; font-family: 'Cairo';">ุฅูุบุงุก</button>
        </div>
    </div>
</div>
```

#### 6. ุฅุถุงูุฉ ุฒุฑ "ุชุนุฏูู ุงูููู ุงูุดุฎุตู" ูู ุฑุฃุณ ุตูุญุฉ ุงููุฏูุฑ:

**ุงุณุชุจุฏู:**
```html
<div style="display: flex; gap: 10px;">
    <button onclick="openChangeAdminPasswordModal()" style="padding: 12px 20px; background: #ebf8ff; border: 2px solid #4299e1; border-radius: 10px; color: #2b6cb0; font-weight: 600; cursor: pointer; font-family: 'Cairo';">๐ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</button>
    <button class="btn-logout" onclick="logout()">ุชุณุฌูู ุฎุฑูุฌ</button>
</div>
```

**ุจู:**
```html
<div style="display: flex; gap: 10px;">
    <button onclick="openEditAdminProfileModal()" style="padding: 12px 20px; background: #f0fdf4; border: 2px solid #22c55e; border-radius: 10px; color: #16a34a; font-weight: 600; cursor: pointer; font-family: 'Cairo';">๐ค ุชุนุฏูู ุงูููู ุงูุดุฎุตู</button>
    <button onclick="openChangeAdminPasswordModal()" style="padding: 12px 20px; background: #ebf8ff; border: 2px solid #4299e1; border-radius: 10px; color: #2b6cb0; font-weight: 600; cursor: pointer; font-family: 'Cairo';">๐ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</button>
    <button class="btn-logout" onclick="logout()">ุชุณุฌูู ุฎุฑูุฌ</button>
</div>
```

#### 7. ุฅุถุงูุฉ ุฏูุงู JavaScript:

**ุฃุถู ูู ููุงูุฉ ุงูุณูุฑูุจุช:**
```javascript
function openEditAdminProfileModal() {
    document.getElementById('newAdminUsernameInput').value = currentUser.username;
    document.getElementById('editAdminProfileModal').style.display = 'flex';
}

async function submitNewAdminUsername() {
    const newUsername = document.getElementById('newAdminUsernameInput').value.trim();
    if (!newUsername) {
        showNotification('ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงุณู ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ', 'error');
        return;
    }

    const response = await apiCall('updateAdminUsername', {
        oldUsername: currentUser.username,
        newUsername: newUsername
    });

    if (response.status === 'success') {
        currentUser.username = newUsername;
        showNotification('ุชู ุชุญุฏูุซ ุงุณู ุงููุณุชุฎุฏู', 'success');
        document.getElementById('editAdminProfileModal').style.display = 'none';
    } else {
        showNotification('ูุดู ุงูุชุญุฏูุซ', 'error');
    }
}
```

---

### **ูู ููู Google Apps Script:**

**ุฃุถู ุฏุงูุฉ ุฌุฏูุฏุฉ:**
```javascript
// --- ุชุญุฏูุซ ุงุณู ูุณุชุฎุฏู ุงููุฏูุฑ ---
if (action === 'updateAdminUsername') {
    var adminData = adminSheet.getRange(2, 1, 1, 2).getValues()[0];
    if (adminData[0] === requestData.oldUsername) {
        adminSheet.getRange(2, 1).setValue(requestData.newUsername);
        return jsonResponse({ status: 'success', message: 'ุชู ุชุญุฏูุซ ุงุณู ุงููุณุชุฎุฏู' });
    }
    return jsonResponse({ status: 'error', message: 'ุงุณู ุงููุณุชุฎุฏู ุงููุฏูู ุบูุฑ ุตุญูุญ' });
}
```

---

## โ **ุงูุชุฃูุฏ ูู ุฒุฑ ุงูุชุฑุงุฌุน:**

ุฒุฑ ุงูุชุฑุงุฌุน ููุฌูุฏ ุจุงููุนู ูู ุงูููุฏ ููุนูู! ุชุฃูุฏ ูู:
1. โ ุชู ุชุญุฏูุซ Google Apps Script
2. โ ุชู ุฅูุดุงุก ูุฑูุฉ "ุงูุบูุงุจุงุช" ูู Google Sheet
3. โ ุงูุฑุงุจุท ูู HTML ูุญุฏุซ

---

## ๐ **ุดูู Google Sheet ุงูููุงุฆู:**

ูุฌุจ ุฃู ูุญุชูู ุนูู:
1. โ ูุฑูุฉ ุงูุทูุงุจ (ูุน ุนููุฏ "ุงููุฑุญูุฉ / ุงููุณู / ุงููุณุงุฑ")
2. โ ูุฑูุฉ "ุงููุฏูุฑ"
3. โ ูุฑูุฉ "ุงููุนูููู"
4. โ ูุฑูุฉ "ุงูุบูุงุจุงุช"

---

**ูู ุชุฑูุฏ ููู ุชุทุจูู ูุฐู ุงูุชุนุฏููุงุช ุนูู ุงููููุ**
